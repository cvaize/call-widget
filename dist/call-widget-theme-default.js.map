{"version":3,"sources":["webpack://@cvaize/call-widget/./src/utility/h.js","webpack://@cvaize/call-widget/./src/themes/default.js","webpack://@cvaize/call-widget/./src/themes/default.lib.js"],"names":["h","name","attrs","children","elem","document","createElement","attrsKey","setAttribute","String","textContent","Array","isArray","i","length","appendChild","fillRedirect","th","numbers","_entities","redirect","wrapper","getElementById","wrapperId","select","selectId","innerHTML","number","value","removeAttribute","showRedirect","showBtn","selectShowBtnId","closeBtn","selectCloseBtnId","selectWrapper","selectWrapperId","btn","id","hideRedirect","fillInfo","info","timeId","time","showInfo","infoWrapper","style","transitionDuration","classList","add","hideInfo","remove","fillPhoto","photo","img","sizer","sizerId","src","loadedPhoto","img_","onload","paddingTop","height","width","showPhoto","hidePhoto","fillTel","tel","content","fillTitle","title","showTitle","titleWrapper","hideTitle","showWidget","widget","hideWidget","activePrimaryBtn","dangerBtn","dangerBtnId","primaryBtn","primaryBtnId","disabled","activeDangerBtn","normalWidget","getTemplate","entities","class","type","window","CallWidgetDefaultTheme"],"mappings":"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","file":"/call-widget-theme-default.js","sourcesContent":["/**\n *\n * @param {String} name - имя элемента, например div, h1, a\n * @param {{}} attrs - объект с атрибутами\n * @param {[HTMLElement]|String} children - Массив элементов или textContent\n * @returns {HTMLElement}\n */\nexport default function h(name, attrs = null, children = null){\n    let elem = document.createElement(name)\n\n    if(attrs){\n        for (const attrsKey in attrs) {\n            elem.setAttribute(attrsKey, attrs[attrsKey])\n        }\n    }\n\n    if(children){\n        if (typeof children === 'string' || children instanceof String){\n            elem.textContent = children;\n        }else if(Array.isArray(children)){\n            for (let i = 0; i < children.length; i++) {\n                elem.appendChild(children[i])\n            }\n        }\n    }\n\n    return elem\n}","import h from \"../utility/h\";\n\nconst DefaultTheme = {\n    // Redirect\n    fillRedirect(th) {\n        let numbers = th._entities.redirect.numbers\n        let wrapper = document.getElementById(th._entities.redirect.wrapperId)\n        let select = document.getElementById(th._entities.redirect.selectId)\n\n        select.innerHTML = ''\n\n        for (let i = 0; i < numbers.length; i++) {\n            let number = numbers[i]\n            select.appendChild(h('option', {value: number}, number))\n        }\n        if (numbers[0]) {\n            select.value = numbers[0]\n            wrapper.removeAttribute('style')\n        } else {\n            wrapper.setAttribute('style', 'display: none;')\n        }\n    },\n    showRedirect(th){\n        let showBtn = document.getElementById(th._entities.redirect.selectShowBtnId)\n        let closeBtn = document.getElementById(th._entities.redirect.selectCloseBtnId)\n        let selectWrapper = document.getElementById(th._entities.redirect.selectWrapperId)\n        let btn = document.getElementById(th._entities.redirect.id)\n\n        showBtn.setAttribute('style', 'display: none;')\n        closeBtn.removeAttribute('style')\n        selectWrapper.removeAttribute('style')\n        btn.removeAttribute('style')\n    },\n    hideRedirect(th){\n        let showBtn = document.getElementById(th._entities.redirect.selectShowBtnId)\n        let closeBtn = document.getElementById(th._entities.redirect.selectCloseBtnId)\n        let selectWrapper = document.getElementById(th._entities.redirect.selectWrapperId)\n        let btn = document.getElementById(th._entities.redirect.id)\n\n        showBtn.removeAttribute('style')\n        closeBtn.setAttribute('style', 'display: none;')\n        selectWrapper.setAttribute('style', 'display: none;')\n        btn.setAttribute('style', 'display: none;')\n    },\n    // Info\n    fillInfo(th){\n        let time = document.getElementById(th._entities.info.timeId)\n        time.textContent = th._entities.info.time\n    },\n    showInfo(th, time) {\n        let infoWrapper = document.getElementById(th._entities.info.id)\n        infoWrapper.style.transitionDuration = time+'ms'\n        infoWrapper.classList.add('show')\n    },\n    hideInfo(th, time) {\n        let infoWrapper = document.getElementById(th._entities.info.id)\n        infoWrapper.style.transitionDuration = time+'ms'\n        infoWrapper.classList.remove('show')\n    },\n    // Photo\n    fillPhoto(th){\n        let wrapper = document.getElementById(th._entities.photo.wrapperId)\n        let img = document.getElementById(th._entities.photo.id)\n        let sizer = document.getElementById(th._entities.photo.sizerId)\n        let src = th._entities.photo.src\n\n        sizer.removeAttribute('style')\n        wrapper.classList.add('loading')\n        img.setAttribute('src', src)\n    },\n    loadedPhoto(th) {\n        let wrapper = document.getElementById(th._entities.photo.wrapperId)\n        let img = document.getElementById(th._entities.photo.id)\n        let sizer = document.getElementById(th._entities.photo.sizerId)\n\n        let img_ = document.createElement('img')\n        img_.onload = function (){\n            sizer.style.transitionDuration = th.time+'ms'\n            wrapper.classList.remove('loading')\n            sizer.style.paddingTop = (img_.height / img_.width * 100) + '%'\n        }\n        img_.src = img.src\n    },\n    showPhoto(th, time){\n        let wrapper = document.getElementById(th._entities.photo.wrapperId)\n        let sizer = document.getElementById(th._entities.photo.sizerId)\n        sizer.style.transitionDuration = time+'ms'\n        wrapper.classList.add('show')\n    },\n    hidePhoto(th, time) {\n        let wrapper = document.getElementById(th._entities.photo.wrapperId)\n        let sizer = document.getElementById(th._entities.photo.sizerId)\n        sizer.removeAttribute('style')\n        sizer.style.transitionDuration = time+'ms'\n        wrapper.classList.remove('loading')\n        wrapper.classList.remove('show')\n    },\n    // Tel\n    fillTel(th){\n        let tel = document.getElementById(th._entities.tel.id)\n        tel.textContent = th._entities.tel.content\n    },\n    // Title\n    fillTitle(th) {\n        let title = document.getElementById(th._entities.title.id)\n        title.textContent = th._entities.title.content\n    },\n    showTitle(th, time) {\n        let titleWrapper = document.getElementById(th._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = time+'ms'\n        titleWrapper.classList.add('show')\n    },\n    hideTitle(th, time) {\n        let titleWrapper = document.getElementById(th._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = time+'ms'\n        titleWrapper.classList.remove('show')\n    },\n    // Widget\n    showWidget(th, time){\n        let widget = document.getElementById(th._entities.widget.id)\n        widget.style.transitionDuration = time+'ms'\n        widget.classList.add('show')\n    },\n    hideWidget(th, time){\n        let widget = document.getElementById(th._entities.widget.id)\n        widget.style.transitionDuration = time+'ms'\n        widget.classList.remove('show')\n    },\n    activePrimaryBtn(th) {\n        // Нужно заблокировать кнопку \"принять звонок\" и установить активный статус кнопке \"принять звонок\"\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let dangerBtn = document.getElementById(th._entities.widget.dangerBtnId)\n        let primaryBtn = document.getElementById(th._entities.widget.primaryBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = false\n        primaryBtn.classList.add('active')\n    },\n    activeDangerBtn(th) {\n        // Нужно заблокировать кнопки, свернуть все дополнительный поля и скрыть виджет\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let primaryBtn = document.getElementById(th._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(th._entities.widget.dangerBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = true\n        primaryBtn.classList.remove('active')\n    },\n    normalWidget(th) {\n        // Вернуть в начальное состояние весь виджет\n        let primaryBtn = document.getElementById(th._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(th._entities.widget.dangerBtnId)\n        primaryBtn.disabled = false\n        dangerBtn.disabled = false\n        primaryBtn.classList.remove('active')\n    },\n    //\n    getTemplate(entities){\n        return h('div', {id: entities.widget.id, class: 'call-widget'}, [\n            h('div', {\n                id: entities.photo.wrapperId,\n                class: 'call-widget__photo',\n            }, [\n                h('div', {\n                    id: entities.photo.sizerId,\n                    class: 'call-widget__photo-sizer',\n                }),\n                h('img', {\n                    id: entities.photo.id,\n                    src: ''\n                }),\n            ]),\n            h('div', {id: entities.info.id, class: 'call-widget__box-info'}, [\n                h('div', {\n                    id: entities.redirect.wrapperId,\n                    class: 'call-widget__redirect',\n                    style: 'display: none;'\n                }, [\n                    h('button', {\n                        id: entities.redirect.selectShowBtnId,\n                        class: 'call-widget__btn call-widget__btn-redirect',\n                        type: 'button'\n                    }),\n                    h('button', {\n                        id: entities.redirect.selectCloseBtnId,\n                        class: 'call-widget__btn call-widget__btn-close',\n                        type: 'button',\n                        style: 'display: none;'\n                    }),\n                    h('span', null, 'Перевести на'),\n                    h('label', {\n                        id: entities.redirect.selectWrapperId,\n                        class: 'call-widget__redirect__select-wrapper',\n                        'aria-label': 'Перевести на оператора',\n                        style: 'display: none;'\n                    }, [\n                        h('select', {\n                            class: 'call-widget__select',\n                            id: entities.redirect.selectId,\n                        }, [\n                            h('option', {value: '-'}, '-'),\n                        ]),\n                    ]),\n                    h('button', {\n                        class: 'call-widget__btn call-widget__btn-redirect call-widget__btn--warning',\n                        type: 'button',\n                        style: 'display: none;',\n                        id: entities.redirect.id,\n                    }),\n                ]),\n                h('div', {\n                    id: entities.info.timeId,\n                    class: 'call-widget__time'\n                })\n            ]),\n            h('div', {id: entities.title.wrapperId, class: 'call-widget__box-title'}, [\n                h('div', {id: entities.title.id, class: 'call-widget__title'})\n            ]),\n            h('div', {class: 'call-widget__box-phone'}, [\n                h('div', {id: entities.tel.wrapperId, class: 'call-widget__tel-wrapper'}, [\n                    h('div', {id: entities.tel.id, class: 'call-widget__tel'})\n                ]),\n                h('button', {\n                    id: entities.widget.dangerBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--danger',\n                    type: 'button'\n                }),\n                h('button', {\n                    id: entities.widget.primaryBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--primary',\n                    type: 'button'\n                })\n            ])\n        ])\n    }\n}\n\nexport default DefaultTheme","import CallWidgetDefaultTheme from './default'\n\nwindow.CallWidgetDefaultTheme = CallWidgetDefaultTheme"],"sourceRoot":""}