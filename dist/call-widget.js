!function(){"use strict";var e,t={842:function(e,t,n){var r={};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(r),n.d(r,{EVENT_BTN_DANGER_CLICK:function(){return c},EVENT_BTN_PRIMARY_CLICK:function(){return d},EVENT_BTN_REDIRECT_CLICK:function(){return l},makeCallWidget:function(){return u}});var o={id:null,selector:"body",startedTime:"00:00:00"},d="btn_primary:click",c="btn_danger:click",l="btn_redirect:click",u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.id||(n.id="call-widget-"+Math.round(1e7*Math.random()));var r=Object.assign(o,n),u=r.id,a={widget:{id:u,primaryBtnId:u+"-primary-btn",dangerBtnId:u+"-danger-btn"},title:{id:u+"-title",wrapperId:u+"-wrapper-title",content:null},tel:{id:u+"-tel",wrapperId:u+"-wrapper-tel",content:null},info:{id:u+"-info",timeId:u+"-time",time:r.startedTime},redirect:{selectShowBtnId:u+"-redirect-select-show-btn",selectCloseBtnId:u+"-redirect-select-close-btn",selectWrapperId:u+"-redirect-select-wrapper",selectId:u+"-redirect-select",id:u+"-redirect-btn",wrapperId:u+"-redirect-wrapper",numbers:[]},photo:{id:u+"-photo",wrapperId:u+"-wrapper-photo",sizerId:u+"-sizer-photo",src:""}},s=[],f=(i(t={},d,[]),i(t,c,[]),i(t,l,[]),t),p={_settings:r,_schedule:s,_entities:a},m=function(t,n){return{time:n,render:function(){e[t](p,n)}}},h=function(e,t){var n=f[e];console.log(n);for(var r=!0,i=0;i<n.length;i++){var o=n[i];if(o){var d=o(t,r);"boolean"==typeof d&&(r=d)}}return r},v=function(){h(d)&&T()},g=function(){h(c)&&k()},I=function(){var e=document.getElementById(a.redirect.selectId);h(l,e.value)},y=function(){s.push(m("showRedirect",0)),B()},w=function(){s.push(m("hideRedirect",0)),B()},E=function(){var e=document.getElementById(a.widget.primaryBtnId),t=document.getElementById(a.widget.dangerBtnId);e.addEventListener("click",v),t.addEventListener("click",g);var n=document.getElementById(a.redirect.selectShowBtnId),r=document.getElementById(a.redirect.selectCloseBtnId),i=document.getElementById(a.redirect.id);n.addEventListener("click",y),r.addEventListener("click",w),i.addEventListener("click",I),document.getElementById(a.photo.id).onload=function(){s.push(m("loadedPhoto",300)),B()}},b=function(){var e=document.getElementById(a.widget.primaryBtnId),t=document.getElementById(a.widget.dangerBtnId);e.removeEventListener("click",v),t.removeEventListener("click",g);var n=document.getElementById(a.redirect.selectShowBtnId),r=document.getElementById(a.redirect.selectCloseBtnId),i=document.getElementById(a.redirect.id);n.removeEventListener("click",y),r.removeEventListener("click",w),i.removeEventListener("click",I),document.getElementById(a.photo.id).onload=void 0},B=function e(){var t=s.shift();t&&(t.time?requestAnimationFrame((function(){setTimeout(e,t.time),t.render()})):(t.render(),e()))},_=function(e){var t=e.tel,n=e.title,r=void 0===n?null:n,i=e.photo,o=void 0===i?null:i;if(!t)throw new Error("CallWidget@call обязательно передайте номер телефона");a.tel.content=t,a.title.content=r,a.photo.src=o,s.push(m("fillTel",0)),s.push(m("showWidget",300)),r?(s.push(m("fillTitle",0)),s.push(m("showTitle",300))):s.push(m("hideTitle",300)),o?(s.push(m("fillPhoto",0)),s.push(m("showPhoto",300))):s.push(m("hidePhoto",300)),B()},T=function(){a.info.time=r.startedTime,s.push(m("activePrimaryBtn",0)),s.push(m("fillInfo",0)),s.push(m("showInfo",300)),B()},k=function(){s.push(m("activeDangerBtn",0)),s.push(m("hidePhoto",300)),s.push(m("hideInfo",300)),s.push(m("hideRedirect",0)),s.push(m("hideTitle",300)),s.push(m("hideWidget",300)),s.push(m("normalWidget",0)),B()},C=function(e){a.info.time=e,s.push(m("fillInfo",0)),B()},O=function(e){a.redirect.numbers=e,s.push(m("fillRedirect",0)),B()},L=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t="string"==typeof(n=n||r.selector)||n instanceof String?document.querySelector(n):n;var i=document.getElementById(a.widget.id);return i||(i=e.getTemplate(a),t.appendChild(i),requestAnimationFrame((function(){E()}))),i},P=function(){s=[];var e=document.getElementById(a.widget.id);e&&(b(),"remove"in Element.prototype?e.remove():e.parentNode&&e.parentNode.removeChild(e))},N=function(e,t){f[e].push(t),console.log(f)},R=function(e,t){f[e]=f[e].filter((function(e){return e!==t}))};return{call:_,answerCall:T,hangUpCall:k,setTime:C,setRedirectNumbers:O,print:L,destroy:P,on:N,off:R}};window.CallWidget=r},695:function(){},906:function(){}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=function(t,n,i,o){if(!n){var d=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var c=!0,l=0;l<n.length;l++)(!1&o||d>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(c=!1,o<d&&(d=o));c&&(e.splice(u--,1),t=i())}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={867:0,204:0,17:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,d=n[0],c=n[1],l=n[2],u=0;for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(l)var a=l(r);for(t&&t(n);u<d.length;u++)o=d[u],r.o(e,o)&&e[o]&&e[o][0](),e[d[u]]=0;return r.O(a)},n=self.webpackChunk_cvaize_call_widget=self.webpackChunk_cvaize_call_widget||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),r.O(void 0,[204,17],(function(){return r(842)})),r.O(void 0,[204,17],(function(){return r(695)}));var i=r.O(void 0,[204,17],(function(){return r(906)}));i=r.O(i)}();
//# sourceMappingURL=call-widget.js.map