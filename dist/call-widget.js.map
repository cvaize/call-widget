{"version":3,"sources":["webpack://@cvaize/call-widget/webpack/runtime/chunk loaded","webpack://@cvaize/call-widget/./src/schedule/base-item.js","webpack://@cvaize/call-widget/./src/schedule/items/widget.js","webpack://@cvaize/call-widget/./src/schedule/items/tel.js","webpack://@cvaize/call-widget/./src/schedule/items/title.js","webpack://@cvaize/call-widget/./src/schedule/items/info.js","webpack://@cvaize/call-widget/./src/utility/h.js","webpack://@cvaize/call-widget/./src/schedule/items/redirect.js","webpack://@cvaize/call-widget/./src/schedule/items/photo.js","webpack://@cvaize/call-widget/./src/call-widget.js","webpack://@cvaize/call-widget/./src/call-widget.lib.js","webpack://@cvaize/call-widget/webpack/bootstrap","webpack://@cvaize/call-widget/webpack/runtime/hasOwnProperty shorthand","webpack://@cvaize/call-widget/webpack/runtime/jsonp chunk loading","webpack://@cvaize/call-widget/webpack/startup"],"names":["deferred","ScheduleItem","action","time","callWidget","this","Error","WidgetScheduleItem","widget","document","getElementById","_entities","id","style","transitionDuration","classList","add","remove","dangerBtn","dangerBtnId","primaryBtn","primaryBtnId","disabled","TelScheduleItem","tel","textContent","content","TitleScheduleItem","title","titleWrapper","wrapperId","InfoScheduleItem","info","timeId","infoWrapper","h","name","attrs","children","elem","createElement","attrsKey","setAttribute","String","Array","isArray","i","length","appendChild","RedirectScheduleItem","numbers","redirect","wrapper","select","selectId","innerHTML","number","value","removeAttribute","show","showBtn","selectShowBtnId","closeBtn","selectCloseBtnId","selectWrapper","selectWrapperId","btn","_toggle","PhotoScheduleItem","photo","img","sizer","sizerId","src","img_","th","onload","paddingTop","height","width","defaultSettings","selector","startedTime","EVENT_BTN_PRIMARY_CLICK","EVENT_BTN_DANGER_CLICK","EVENT_BTN_REDIRECT_CLICK","events","CallWidget","settings","Math","round","random","_settings","Object","assign","_setStartParams","_schedule","push","_render","element","querySelector","template","_getTemplate","requestAnimationFrame","_attachEvents","_detachEvents","Element","prototype","parentNode","removeChild","fun","_eventHandlers","filter","fun_","_funHandleClickPrimaryBtn","_handleClickPrimaryBtn","_funHandleClickDangerBtn","_handleClickDangerBtn","addEventListener","showRedirectBtn","closeRedirectBtn","redirectBtn","_funHandleClickShowRedirectBtn","_funHandleClickHideRedirectBtn","_funHandleClickRedirectBtn","_handleRedirect","removeEventListener","handlers","result","handler","result_","_handleEvent","answerCall","hangUpCall","item","shift","setTimeout","render","class","type","_getEntities","event","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","o","obj","prop","hasOwnProperty","call","installedChunks","867","836","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"mappings":"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","file":"/call-widget.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","export default class ScheduleItem {\n    action\n    time\n    callWidget\n    constructor(action, time, callWidget) {\n        this.action = action\n        this.time = time || 0\n        this.callWidget = callWidget\n    }\n    render() {\n        throw new Error('ScheduleItem@render Обязательно определите метод рендера')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class WidgetScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _show(){\n        let widget = document.getElementById(this.callWidget._entities.widget.id)\n        widget.style.transitionDuration = this.time+'ms'\n        widget.classList.add('show')\n    }\n    _hide(){\n        let widget = document.getElementById(this.callWidget._entities.widget.id)\n        widget.style.transitionDuration = this.time+'ms'\n        widget.classList.remove('show')\n    }\n    _activePrimaryBtn() {\n        // Нужно заблокировать кнопку \"принять звонок\" и установить активный статус кнопке \"принять звонок\"\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = false\n        primaryBtn.classList.add('active')\n    }\n    _activeDangerBtn() {\n        // Нужно заблокировать кнопки, свернуть все дополнительный поля и скрыть виджет\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = true\n        primaryBtn.classList.remove('active')\n    }\n    _normal() {\n        // Вернуть в начальное состояние весь виджет\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        primaryBtn.disabled = false\n        dangerBtn.disabled = false\n        primaryBtn.classList.remove('active')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class TelScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let tel = document.getElementById(this.callWidget._entities.tel.id)\n        tel.textContent = this.callWidget._entities.tel.content\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class TitleScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill() {\n        let title = document.getElementById(this.callWidget._entities.title.id)\n        title.textContent = this.callWidget._entities.title.content\n    }\n    _show() {\n        let titleWrapper = document.getElementById(this.callWidget._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = this.time+'ms'\n        titleWrapper.classList.add('show')\n    }\n    _hide() {\n        let titleWrapper = document.getElementById(this.callWidget._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = this.time+'ms'\n        titleWrapper.classList.remove('show')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class InfoScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let time = document.getElementById(this.callWidget._entities.info.timeId)\n        time.textContent = this.callWidget._entities.info.time\n    }\n    _show() {\n        let infoWrapper = document.getElementById(this.callWidget._entities.info.id)\n        infoWrapper.style.transitionDuration = this.time+'ms'\n        infoWrapper.classList.add('show')\n    }\n    _hide() {\n        let infoWrapper = document.getElementById(this.callWidget._entities.info.id)\n        infoWrapper.style.transitionDuration = this.time+'ms'\n        infoWrapper.classList.remove('show')\n    }\n}","/**\n *\n * @param {String} name - имя элемента, например div, h1, a\n * @param {{}} attrs - объект с атрибутами\n * @param {[HTMLElement]|String} children - Массив элементов или textContent\n * @returns {HTMLElement}\n */\nexport default function h(name, attrs = null, children = null){\n    let elem = document.createElement(name)\n\n    if(attrs){\n        for (const attrsKey in attrs) {\n            elem.setAttribute(attrsKey, attrs[attrsKey])\n        }\n    }\n\n    if(children){\n        if (typeof children === 'string' || children instanceof String){\n            elem.textContent = children;\n        }else if(Array.isArray(children)){\n            for (let i = 0; i < children.length; i++) {\n                elem.appendChild(children[i])\n            }\n        }\n    }\n\n    return elem\n}","import ScheduleItem from '../base-item'\nimport h from \"../../utility/h\";\n\nexport default class RedirectScheduleItem extends ScheduleItem {\n    render() {\n        this['_' + this.action]()\n    }\n\n    _fill() {\n        let numbers = this.callWidget._entities.redirect.numbers\n        let wrapper = document.getElementById(this.callWidget._entities.redirect.wrapperId)\n        let select = document.getElementById(this.callWidget._entities.redirect.selectId)\n\n        select.innerHTML = ''\n\n        for (let i = 0; i < numbers.length; i++) {\n            let number = numbers[i]\n            select.appendChild(h('option', {value: number}, number))\n        }\n        if (numbers[0]) {\n            select.value = numbers[0]\n            wrapper.removeAttribute('style')\n        } else {\n            wrapper.setAttribute('style', 'display: none;')\n        }\n    }\n\n    _toggle(show){\n        let showBtn = document.getElementById(this.callWidget._entities.redirect.selectShowBtnId)\n        let closeBtn = document.getElementById(this.callWidget._entities.redirect.selectCloseBtnId)\n        let selectWrapper = document.getElementById(this.callWidget._entities.redirect.selectWrapperId)\n        let btn = document.getElementById(this.callWidget._entities.redirect.id)\n\n        if(show){\n            showBtn.setAttribute('style', 'display: none;')\n            closeBtn.removeAttribute('style')\n            selectWrapper.removeAttribute('style')\n            btn.removeAttribute('style')\n        }else{\n            showBtn.removeAttribute('style')\n            closeBtn.setAttribute('style', 'display: none;')\n            selectWrapper.setAttribute('style', 'display: none;')\n            btn.setAttribute('style', 'display: none;')\n        }\n    }\n\n    _show(){\n        this._toggle(true)\n    }\n\n    _hide(){\n        this._toggle(false)\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class PhotoScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let img = document.getElementById(this.callWidget._entities.photo.id)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n        let src = this.callWidget._entities.photo.src\n\n        sizer.removeAttribute('style')\n        wrapper.classList.add('loading')\n        img.setAttribute('src', src)\n    }\n    _loaded() {\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let img = document.getElementById(this.callWidget._entities.photo.id)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n\n        let img_ = document.createElement('img')\n        let th = this\n        img_.onload = function (){\n            sizer.style.transitionDuration = th.time+'ms'\n            wrapper.classList.remove('loading')\n            sizer.style.paddingTop = (img_.height / img_.width * 100) + '%'\n        }\n        img_.src = img.src\n    }\n    _show(){\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n        sizer.style.transitionDuration = this.time+'ms'\n        wrapper.classList.add('show')\n    }\n    _hide() {\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n        sizer.removeAttribute('style')\n        sizer.style.transitionDuration = this.time+'ms'\n        wrapper.classList.remove('loading')\n        wrapper.classList.remove('show')\n    }\n}","import WidgetScheduleItem from \"./schedule/items/widget\";\nimport TelScheduleItem from \"./schedule/items/tel\";\nimport TitleScheduleItem from \"./schedule/items/title\";\nimport InfoScheduleItem from \"./schedule/items/info\";\nimport RedirectScheduleItem from \"./schedule/items/redirect\";\nimport h from \"./utility/h\"\nimport PhotoScheduleItem from \"./schedule/items/photo\";\n\nconst defaultSettings = {\n    id: null,\n    selector: 'body',\n    startedTime: '00:00:00',\n}\n\nexport const EVENT_BTN_PRIMARY_CLICK = 'btn_primary:click'\nexport const EVENT_BTN_DANGER_CLICK = 'btn_danger:click'\nexport const EVENT_BTN_REDIRECT_CLICK = 'btn_redirect:click'\n\nconst events = [EVENT_BTN_PRIMARY_CLICK, EVENT_BTN_DANGER_CLICK, EVENT_BTN_REDIRECT_CLICK]\n\nexport default class CallWidget {\n    /**\n     * @private {{}} - Настройки\n     */\n    _settings\n    /**\n     * @private {{}} - Параметры сущностей имеющихся в CallWidget\n     */\n    _entities\n    /**\n     * @private {[ScheduleItem]} - Очередь для управления отрисовкой, массив объектов\n     */\n    _schedule\n    /**\n     * @private - сюда помещается функция HandleClickPrimaryBtn, чтобы отвязать её по этому адресу\n     */\n    _funHandleClickPrimaryBtn\n    /**\n     * @private - сюда помещается функция HandleClickDangerBtn, чтобы отвязать её по этому адресу\n     */\n    _funHandleClickDangerBtn\n\n    /**\n     * @private {{}} - объект со слушателями, добавляются через функцию CallWidget.on() и удаляются через CallWidget.off()\n     */\n    _eventHandlers\n\n    _funHandleClickShowRedirectBtn\n    _funHandleClickHideRedirectBtn\n    _funHandleClickRedirectBtn\n\n    EVENT_BTN_PRIMARY_CLICK\n    EVENT_BTN_DANGER_CLICK\n    EVENT_BTN_REDIRECT_CLICK\n\n    constructor(settings = {}) {\n\n        this.EVENT_BTN_PRIMARY_CLICK = EVENT_BTN_PRIMARY_CLICK\n        this.EVENT_BTN_DANGER_CLICK = EVENT_BTN_DANGER_CLICK\n        this.EVENT_BTN_REDIRECT_CLICK = EVENT_BTN_REDIRECT_CLICK\n\n        if(!settings.id) settings.id = 'call-widget-'+Math.round(Math.random() * 10e6)\n\n        this._settings = Object.assign(defaultSettings, settings)\n\n        this._setStartParams()\n    }\n\n    /**\n     * Инициировать звонок: покажется виджет и даст возможность ответить на звонок\n     * @param {String} tel\n     * @param {String} title\n     * @param {String} photo\n     */\n    call({tel, title = null, photo = null}) {\n        if(!tel){\n            throw new Error('CallWidget@call обязательно передайте номер телефона')\n        }\n\n        /**\n         * Заполнение данными\n         */\n        this._entities.tel.content = tel\n        this._entities.title.content = title\n        this._entities.photo.src = photo\n\n        /**\n         * Заполнение очереди отрисовки в зависимости от данных\n         */\n        this._schedule.push(new TelScheduleItem('fill', 0, this))\n        this._schedule.push(new WidgetScheduleItem('show', 300, this))\n        if(title) {\n            this._schedule.push(new TitleScheduleItem('fill', 0, this))\n            this._schedule.push(new TitleScheduleItem('show', 300, this))\n        }else{\n            this._schedule.push(new TitleScheduleItem('hide', 150, this))\n        }\n        if(photo) {\n            this._schedule.push(new PhotoScheduleItem('fill', 0, this))\n            this._schedule.push(new PhotoScheduleItem('show', 300, this))\n        }else{\n            this._schedule.push(new PhotoScheduleItem('hide', 150, this))\n        }\n\n        /**\n         * Вызов функции рендера очереди\n         */\n        this._render()\n    }\n\n    /**\n     * Ответить на звонок\n     */\n    answerCall(){\n        // Нужно установить начальное время, чтобы показать его, а потом уже пользователь будет его устанавливать\n        this._entities.info.time = this._settings.startedTime\n\n        // Нужно заблокировать кнопку \"принять звонок\" и установить активный статус кнопке \"принять звонок\"\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        this._schedule.push(new WidgetScheduleItem('activePrimaryBtn', 0, this))\n        this._schedule.push(new InfoScheduleItem('fill', 0, this))\n        this._schedule.push(new InfoScheduleItem('show', 150, this))\n        this._render()\n    }\n\n    /**\n     * Положить трубку\n     */\n    hangUpCall() {\n        // Нужно заблокировать кнопки, свернуть все дополнительный поля и скрыть виджет\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        this._schedule.push(new WidgetScheduleItem('activeDangerBtn', 0, this))\n        this._schedule.push(new PhotoScheduleItem('hide', 150, this))\n        this._schedule.push(new InfoScheduleItem('hide', 150, this))\n        this._schedule.push(new RedirectScheduleItem('hide', 0, this))\n        this._schedule.push(new TitleScheduleItem('hide', 300, this))\n        this._schedule.push(new WidgetScheduleItem('hide', 300, this))\n        this._schedule.push(new WidgetScheduleItem('normal', 0, this))\n        this._render()\n    }\n\n    /**\n     * Установка времени, по умолчанию формат 00:00:00\n     */\n    setTime(time) {\n        this._entities.info.time = time\n        this._schedule.push(new InfoScheduleItem('fill', 0, this))\n        this._render()\n    }\n\n    /**\n     * Установка номеров телефонов для выбора редиректа\n     * @param {[String]} numbers\n     */\n    setRedirectNumbers(numbers) {\n        this._entities.redirect.numbers = numbers\n        this._schedule.push(new RedirectScheduleItem('fill', 0, this))\n        this._render()\n    }\n\n    /**\n     * Функция распечатывающая шаблон\n     * @param selector - Селектор или элемент\n     */\n    print(selector = null) {\n        selector = selector || this._settings.selector\n\n        let element\n        if (typeof selector === 'string' || selector instanceof String){\n            element = document.querySelector(selector)\n        }else{\n            element = selector\n        }\n\n        let template = document.getElementById(this._entities.widget.id)\n        if(!template){\n            template = this._getTemplate()\n\n            element.appendChild(template)\n\n            requestAnimationFrame(() => {\n                this._attachEvents()\n            })\n        }\n\n        return template\n    }\n\n    /**\n     * Функция удаляющая шаблон\n     */\n    destroy() {\n        this._schedule = []\n        this._detachEvents()\n\n        let element = document.getElementById(this._entities.widget.id)\n\n        if(element){\n            if (!('remove' in Element.prototype)) {\n                if (element.parentNode) {\n                    element.parentNode.removeChild(element);\n                }\n            }else{\n                element.remove();\n            }\n        }\n    }\n\n    on(name, fun) {\n        this._eventHandlers[name].push(fun)\n    }\n\n    off(name, fun) {\n        this._eventHandlers[name] = this._eventHandlers[name].filter(fun_ => fun_ !== fun)\n    }\n\n    _attachEvents() {\n        let th = this\n\n        let primaryBtn = document.getElementById(this._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this._entities.widget.dangerBtnId)\n\n        this._funHandleClickPrimaryBtn = function () {\n            th._handleClickPrimaryBtn()\n        }\n        this._funHandleClickDangerBtn = function () {\n            th._handleClickDangerBtn()\n        }\n\n        primaryBtn.addEventListener('click', this._funHandleClickPrimaryBtn)\n        dangerBtn.addEventListener('click', this._funHandleClickDangerBtn)\n\n        //\n\n        let showRedirectBtn = document.getElementById(this._entities.redirect.selectShowBtnId)\n        let closeRedirectBtn = document.getElementById(this._entities.redirect.selectCloseBtnId)\n        let redirectBtn = document.getElementById(this._entities.redirect.id)\n\n        this._funHandleClickShowRedirectBtn = function () {\n            th._schedule.push(new RedirectScheduleItem('show', 0, th))\n            th._render()\n        }\n        this._funHandleClickHideRedirectBtn = function () {\n            th._schedule.push(new RedirectScheduleItem('hide', 0, th))\n            th._render()\n        }\n        this._funHandleClickRedirectBtn = function () {\n            th._handleRedirect()\n        }\n        showRedirectBtn.addEventListener('click', this._funHandleClickShowRedirectBtn)\n        closeRedirectBtn.addEventListener('click', this._funHandleClickHideRedirectBtn)\n        redirectBtn.addEventListener('click', this._funHandleClickRedirectBtn)\n\n        //\n\n        let photo = document.getElementById(this._entities.photo.id)\n\n        photo.onload = function (){\n            th._schedule.push(new PhotoScheduleItem('loaded', 300, th))\n            th._render()\n        }\n    }\n\n    _detachEvents() {\n        let primaryBtn = document.getElementById(this._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this._entities.widget.dangerBtnId)\n\n        primaryBtn.removeEventListener('click', this._funHandleClickPrimaryBtn)\n        dangerBtn.removeEventListener('click', this._funHandleClickDangerBtn)\n\n        //\n\n        let showRedirectBtn = document.getElementById(this._entities.redirect.selectShowBtnId)\n        let closeRedirectBtn = document.getElementById(this._entities.redirect.selectCloseBtnId)\n        let redirectBtn = document.getElementById(this._entities.redirect.id)\n\n        showRedirectBtn.removeEventListener('click', this._funHandleClickShowRedirectBtn)\n        closeRedirectBtn.removeEventListener('click', this._funHandleClickHideRedirectBtn)\n        redirectBtn.removeEventListener('click', this._funHandleClickRedirectBtn)\n    }\n\n    _handleEvent(name, value){\n        const handlers = this._eventHandlers[name]\n        // result - нужен чтобы сказать что дальнейшие действия виджета нужно остановить\n        let result = true\n        for (let i = 0; i < handlers.length; i++) {\n            const handler = handlers[i]\n            if(handler){\n                let result_ = handler(value, result)\n                if(typeof result_ === \"boolean\"){\n                    result = result_\n                }\n            }\n        }\n        return result\n    }\n\n    /**\n     * Метод, который сработает при клике по кнопке принять звонок\n     * @private\n     */\n    _handleClickPrimaryBtn(){\n        const result = this._handleEvent(EVENT_BTN_PRIMARY_CLICK)\n        if(result){\n            this.answerCall()\n        }\n    }\n\n    /**\n     * Метод, который сработает при клике по кнопке положить звонок\n     * @private\n     */\n    _handleClickDangerBtn(){\n        const result = this._handleEvent(EVENT_BTN_DANGER_CLICK)\n        if(result){\n            this.hangUpCall()\n        }\n    }\n\n    /**\n     * Метод, который сработает при клике на кнопке перевести звонок на выбранного оператора\n     * @private\n     */\n    _handleRedirect(){\n        let select = document.getElementById(this._entities.redirect.selectId)\n        this._handleEvent(EVENT_BTN_REDIRECT_CLICK, select.value)\n    }\n\n    /**\n     * Функция проходит по очереди и исполняет действия рекурсивно, пока в очереди не останется пунктов\n     * @private\n     */\n    _render() {\n        let item = this._schedule.shift()\n        if(item){\n            if(item.time){\n                requestAnimationFrame(() => {\n                    setTimeout(() => {this._render()}, item.time)\n                    item.render()\n                })\n            }else{\n                item.render()\n                this._render()\n            }\n        }\n    }\n\n    /**\n     * @returns {HTMLElement}\n     * @private\n     */\n    _getTemplate() {\n        return h('div', {id: this._entities.widget.id, class: 'call-widget'}, [\n            h('div', {\n                id: this._entities.photo.wrapperId,\n                class: 'call-widget__photo',\n            }, [\n                h('div', {\n                    id: this._entities.photo.sizerId,\n                    class: 'call-widget__photo-sizer',\n                }),\n                h('img', {\n                    id: this._entities.photo.id,\n                    src: ''\n                }),\n            ]),\n            h('div', {id: this._entities.info.id, class: 'call-widget__box-info'}, [\n                h('div', {\n                    id: this._entities.redirect.wrapperId,\n                    class: 'call-widget__redirect',\n                    style: 'display: none;'\n                }, [\n                    h('button', {\n                        id: this._entities.redirect.selectShowBtnId,\n                        class: 'call-widget__btn call-widget__btn-redirect',\n                        type: 'button'\n                    }),\n                    h('button', {\n                        id: this._entities.redirect.selectCloseBtnId,\n                        class: 'call-widget__btn call-widget__btn-close',\n                        type: 'button',\n                        style: 'display: none;'\n                    }),\n                    h('span', null, 'Перевести на'),\n                    h('label', {\n                        id: this._entities.redirect.selectWrapperId,\n                        class: 'call-widget__redirect__select-wrapper',\n                        'aria-label': 'Перевести на оператора',\n                        style: 'display: none;'\n                    }, [\n                        h('select', {\n                            class: 'call-widget__select',\n                            id: this._entities.redirect.selectId,\n                        }, [\n                            h('option', {value: '-'}, '-'),\n                        ]),\n                    ]),\n                    h('button', {\n                        class: 'call-widget__btn call-widget__btn-redirect call-widget__btn--warning',\n                        type: 'button',\n                        style: 'display: none;',\n                        id: this._entities.redirect.id,\n                    }),\n                ]),\n                h('div', {\n                    id: this._entities.info.timeId,\n                    class: 'call-widget__time'\n                })\n            ]),\n            h('div', {id: this._entities.title.wrapperId, class: 'call-widget__box-title'}, [\n                h('div', {id: this._entities.title.id, class: 'call-widget__title'})\n            ]),\n            h('div', {class: 'call-widget__box-phone'}, [\n                h('div', {id: this._entities.tel.wrapperId, class: 'call-widget__tel-wrapper'}, [\n                    h('div', {id: this._entities.tel.id, class: 'call-widget__tel'})\n                ]),\n                h('button', {\n                    id: this._entities.widget.dangerBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--danger',\n                    type: 'button'\n                }),\n                h('button', {\n                    id: this._entities.widget.primaryBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--primary',\n                    type: 'button'\n                })\n            ])\n        ])\n    }\n\n    /**\n     * Функция устанавливающая начальные параметры\n     * @private\n     */\n    _setStartParams() {\n        this._entities = this._getEntities()\n\n        this._schedule = []\n\n        this._eventHandlers = {}\n        for (let i = 0; i < events.length; i++) {\n            let event = events[i]\n            this._eventHandlers[event] = []\n        }\n    }\n\n    _getEntities() {\n        const id = this._settings.id\n\n        return {\n            widget: { id, primaryBtnId: id+'-primary-btn', dangerBtnId: id+'-danger-btn' },\n            title: { id: id+'-title', wrapperId: id+'-wrapper-title', content: null },\n            tel: { id: id+'-tel', wrapperId: id+'-wrapper-tel', content: null },\n            info: {\n                id: id+'-info',\n                timeId: id+'-time',\n                time: this._settings.startedTime,\n            },\n            redirect: {\n                selectShowBtnId: id+'-redirect-select-show-btn',\n                selectCloseBtnId: id+'-redirect-select-close-btn',\n                selectWrapperId: id+'-redirect-select-wrapper',\n                selectId: id+'-redirect-select',\n                id: id+'-redirect-btn',\n                wrapperId: id+'-redirect-wrapper',\n                numbers: []\n            },\n            photo: {\n                id: id+'-photo',\n                wrapperId: id+'-wrapper-photo',\n                sizerId: id+'-sizer-photo',\n                src: ''\n            }\n        }\n    }\n}\n","import CallWidget from \"./call-widget\";\n\nwindow.CallWidget = CallWidget","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t867: 0,\n\t836: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cvaize_call_widget\"] = self[\"webpackChunk_cvaize_call_widget\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [836], function() { return __webpack_require__(866); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [836], function() { return __webpack_require__(869); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}