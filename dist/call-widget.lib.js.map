{"version":3,"sources":["webpack://call-widget/webpack/runtime/chunk loaded","webpack://call-widget/./src/call-widget.js","webpack://call-widget/./src/call-widget.lib.js","webpack://call-widget/./src/schedule/base-item.js","webpack://call-widget/./src/schedule/items/info.js","webpack://call-widget/./src/schedule/items/tel.js","webpack://call-widget/./src/schedule/items/title.js","webpack://call-widget/./src/schedule/items/widget.js","webpack://call-widget/webpack/bootstrap","webpack://call-widget/webpack/runtime/define property getters","webpack://call-widget/webpack/runtime/hasOwnProperty shorthand","webpack://call-widget/webpack/runtime/jsonp chunk loading","webpack://call-widget/webpack/startup"],"names":["deferred","defaultSettings","id","selector","startedTime","defaultEntityVars","loading","showing","showed","EVENT_BTN_PRIMARY_CLICK","EVENT_BTN_DANGER_CLICK","events","CallWidget","settings","this","Math","round","random","_settings","Object","assign","_setStartParams","tel","title","Error","_entities","content","_schedule","push","TelScheduleItem","WidgetScheduleItem","TitleScheduleItem","_render","info","time","InfoScheduleItem","element","String","document","querySelector","template","_getTemplate","appendChild","requestAnimationFrame","_attachEvents","name","fun","_eventHandlers","filter","fun_","primaryBtn","getElementById","widget","primaryBtnId","dangerBtn","dangerBtnId","th","_funHandleClickPrimaryBtn","_handleClickPrimaryBtn","_funHandleClickDangerBtn","_handleClickDangerBtn","addEventListener","handlers","result","i","length","handler","result_","_handleEvent","answerCall","hangUpCall","item","shift","console","log","action","setTimeout","render","attrs","children","elem","createElement","attrsKey","setAttribute","textContent","Array","isArray","h","_h","class","timeId","wrapperId","type","_getEntities","event","window","ScheduleItem","callWidget","infoWrapper","style","transitionDuration","classList","add","remove","titleWrapper","disabled","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","installedChunks","165","867","836","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"mappings":"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","file":"/call-widget.lib.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import WidgetScheduleItem from \"./schedule/items/widget\";\nimport TelScheduleItem from \"./schedule/items/tel\";\nimport TitleScheduleItem from \"./schedule/items/title\";\nimport InfoScheduleItem from \"./schedule/items/info\";\n\nconst defaultSettings = {\n    id: null,\n    selector: 'body',\n    startedTime: '00:00:00'\n}\n\nconst defaultEntityVars = {\n    loading: false,\n    showing: false,\n    showed: true,\n    id: null,\n}\n\nconst EVENT_BTN_PRIMARY_CLICK = 'btn_primary:click'\nconst EVENT_BTN_DANGER_CLICK = 'btn_danger:click'\n\nconst events = [EVENT_BTN_PRIMARY_CLICK, EVENT_BTN_DANGER_CLICK]\n\nexport default class CallWidget {\n    /**\n     * @private {{}} - Настройки\n     */\n    _settings\n    /**\n     * @private {{}} - Параметры сущностей имеющихся в CallWidget\n     */\n    _entities\n    /**\n     * @private {[ScheduleItem]} - Очередь для управления отрисовкой, массив объектов\n     */\n    _schedule\n    /**\n     * @private - сюда помещается функция HandleClickPrimaryBtn, чтобы отвязать её по этому адресу\n     */\n    _funHandleClickPrimaryBtn\n    /**\n     * @private - сюда помещается функция HandleClickDangerBtn, чтобы отвязать её по этому адресу\n     */\n    _funHandleClickDangerBtn\n\n    /**\n     * @private {{}} - объект со слушателями, добавляются через функцию CallWidget.on() и удаляются через CallWidget.off()\n     */\n    _eventHandlers\n\n    EVENT_BTN_PRIMARY_CLICK\n    EVENT_BTN_DANGER_CLICK\n\n    constructor(settings = {}) {\n\n        this.EVENT_BTN_PRIMARY_CLICK = EVENT_BTN_PRIMARY_CLICK\n        this.EVENT_BTN_DANGER_CLICK = EVENT_BTN_DANGER_CLICK\n\n        if(!settings.id) settings.id = 'call-widget-'+Math.round(Math.random() * 10e6)\n\n        this._settings = Object.assign(defaultSettings, settings)\n\n        this._setStartParams()\n    }\n\n    /**\n     * Инициировать звонок: покажется виджет и даст возможность ответить на звонок\n     * @param {String} tel\n     * @param {String} title\n     */\n    call({tel, title = null}) {\n        if(!tel){\n            throw new Error('CallWidget@call обязательно передайте номер телефона')\n        }\n\n        /**\n         * Заполнение данными\n         */\n        this._entities.tel.content = tel\n        this._entities.title.content = title\n\n        /**\n         * Заполнение очереди отрисовки в зависимости от данных\n         */\n        this._schedule.push(new TelScheduleItem('fill', 0, this))\n        this._schedule.push(new WidgetScheduleItem('show', 300, this))\n        if(title) {\n            this._schedule.push(new TitleScheduleItem('fill', 0, this))\n            this._schedule.push(new TitleScheduleItem('show', 300, this))\n        }\n\n        /**\n         * Вызов функции рендера очереди\n         */\n        this._render()\n    }\n\n    /**\n     * Ответить на звонок\n     */\n    answerCall(){\n        // Нужно установить начальное время, чтобы показать его, а потом уже пользователь будет его устанавливать\n        this._entities.info.time = this._settings.startedTime\n\n        // Нужно заблокировать кнопку \"принять звонок\" и установить активный статус кнопке \"принять звонок\"\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        this._schedule.push(new WidgetScheduleItem('activePrimaryBtn', 0, this))\n        this._schedule.push(new InfoScheduleItem('fill', 0, this))\n        this._schedule.push(new InfoScheduleItem('show', 150, this))\n        this._render()\n    }\n\n    /**\n     * Положить трубку\n     */\n    hangUpCall() {\n        // Нужно заблокировать кнопки, свернуть все дополнительный поля и скрыть виджет\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        this._schedule.push(new WidgetScheduleItem('activeDangerBtn', 0, this))\n        this._schedule.push(new InfoScheduleItem('hide', 150, this))\n        this._schedule.push(new TitleScheduleItem('hide', 300, this))\n        this._schedule.push(new WidgetScheduleItem('hide', 300, this))\n        this._schedule.push(new WidgetScheduleItem('normal', 0, this))\n        this._render()\n    }\n\n    /**\n     * Установка времени, по умолчанию формат 00:00:00\n     */\n    setTime(time) {\n        this._entities.info.time = time\n        this._schedule.push(new InfoScheduleItem('fill', 0, this))\n        this._render()\n    }\n\n    /**\n     * Функция распечатывающая шаблон\n     * @param selector - Селектор или элемент\n     */\n    print(selector = null) {\n        selector = selector || this._settings.selector\n\n        let element\n        if (typeof selector === 'string' || selector instanceof String){\n            element = document.querySelector(selector)\n        }else{\n            element = selector\n        }\n\n        let template = this._getTemplate()\n\n        element.appendChild(template)\n\n        requestAnimationFrame(() => {\n            this._attachEvents()\n        })\n\n        return template\n    }\n\n    on(name, fun) {\n        this._eventHandlers[name].push(fun)\n    }\n\n    off(name, fun) {\n        this._eventHandlers[name] = this._eventHandlers[name].filter(fun_ => fun_ !== fun)\n    }\n\n    _attachEvents() {\n        let primaryBtn = document.getElementById(this._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this._entities.widget.dangerBtnId)\n\n        let th = this\n        this._funHandleClickPrimaryBtn = function () {\n            th._handleClickPrimaryBtn()\n        }\n        this._funHandleClickDangerBtn = function () {\n            th._handleClickDangerBtn()\n        }\n\n        primaryBtn.addEventListener('click', this._funHandleClickPrimaryBtn)\n        dangerBtn.addEventListener('click', this._funHandleClickDangerBtn)\n    }\n\n    _handleEvent(name){\n        const handlers = this._eventHandlers[name]\n        // result - нужен чтобы сказать что дальнейшие действия виджета нужно остановить\n        let result = true\n        for (let i = 0; i < handlers.length; i++) {\n            const handler = handlers[i]\n            if(handler){\n                let result_ = handler(result)\n                if(typeof result_ === \"boolean\"){\n                    result = result_\n                }\n            }\n        }\n        return result\n    }\n\n    /**\n     * Метод, который сработает при клике по кнопке принять звонок\n     * @private\n     */\n    _handleClickPrimaryBtn(){\n        const result = this._handleEvent(EVENT_BTN_PRIMARY_CLICK)\n        if(result){\n            this.answerCall()\n        }\n    }\n\n    /**\n     * Метод, который сработает при клике по кнопке положить звонок\n     * @private\n     */\n    _handleClickDangerBtn(){\n        const result = this._handleEvent(EVENT_BTN_DANGER_CLICK)\n        if(result){\n            this.hangUpCall()\n        }\n    }\n\n    /**\n     * Функция проходит по очереди и исполняет действия рекурсивно, пока в очереди не останется пунктов\n     * @private\n     */\n    _render() {\n        let item = this._schedule.shift()\n        if(item){\n            console.log(item, item.action, item.time)\n            if(item.time){\n                requestAnimationFrame(() => {\n                    setTimeout(() => {this._render()}, item.time)\n                    item.render()\n                })\n            }else{\n                item.render()\n                this._render()\n            }\n        }\n    }\n\n    /**\n     *\n     * @param {String} name - имя элемента, например div, h1, a\n     * @param {{}} attrs - объект с атрибутами\n     * @param {[HTMLElement]|String} children - Массив элементов или textContent\n     * @returns {HTMLElement}\n     * @private\n     */\n    _h(name, attrs = null, children = null){\n        let elem = document.createElement(name)\n\n        if(attrs){\n            for (const attrsKey in attrs) {\n                elem.setAttribute(attrsKey, attrs[attrsKey])\n            }\n        }\n\n        if(children){\n            if (typeof children === 'string' || children instanceof String){\n                elem.textContent = children;\n            }else if(Array.isArray(children)){\n                for (let i = 0; i < children.length; i++) {\n                    elem.appendChild(children[i])\n                }\n            }\n        }\n\n        return elem\n    }\n\n    /**\n     * @returns {HTMLElement}\n     * @private\n     */\n    _getTemplate() {\n        const h = this._h\n\n        return h('div', {id: this._entities.widget.id, class: 'call-widget'}, [\n            h('div', {id: this._entities.info.id, class: 'call-widget__box-info'}, [\n                h('div', {class: 'call-widget__redirect'}),\n                h('div', {id: this._entities.info.timeId, class: 'call-widget__time'})\n            ]),\n            h('div', {id: this._entities.title.wrapperId, class: 'call-widget__box-title'}, [\n                h('div', {id: this._entities.title.id, class: 'call-widget__title'})\n            ]),\n            h('div', {class: 'call-widget__box-phone'}, [\n                h('div', {id: this._entities.tel.wrapperId, class: 'call-widget__tel-wrapper'}, [\n                    h('div', {id: this._entities.tel.id, class: 'call-widget__tel'})\n                ]),\n                h('button', {\n                    id: this._entities.widget.dangerBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--danger',\n                    type: 'button'\n                }),\n                h('button', {\n                    id: this._entities.widget.primaryBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--primary',\n                    type: 'button'\n                })\n            ])\n        ])\n    }\n\n    /**\n     * Функция устанавливающая начальные параметры\n     * @private\n     */\n    _setStartParams() {\n        this._entities = this._getEntities()\n\n        this._schedule = []\n\n        this._eventHandlers = {}\n        for (let i = 0; i < events.length; i++) {\n            let event = events[i]\n            this._eventHandlers[event] = []\n        }\n    }\n\n    _getEntities() {\n        const id = this._settings.id\n\n        return {\n            widget: { ...defaultEntityVars, id, primaryBtnId: id+'-primary-btn', dangerBtnId: id+'-danger-btn' },\n            title: { ...defaultEntityVars, id: id+'-title', wrapperId: id+'-wrapper-title', content: null },\n            tel: { ...defaultEntityVars, id: id+'-tel', wrapperId: id+'-wrapper-tel', content: null },\n            info: { ...defaultEntityVars, id: id+'-info', timeId: id+'-time', time: this._settings.startedTime },\n        }\n    }\n}\n","import CallWidget from \"./call-widget\";\n\nwindow.CallWidget = CallWidget","export default class ScheduleItem {\n    action\n    time\n    callWidget\n    constructor(action, time, callWidget) {\n        this.action = action\n        this.time = time || 0\n        this.callWidget = callWidget\n    }\n    render() {\n        throw new Error('ScheduleItem@render Обязательно определите метод рендера')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class InfoScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let time = document.getElementById(this.callWidget._entities.info.timeId)\n        time.textContent = this.callWidget._entities.info.time\n    }\n    _show() {\n        let infoWrapper = document.getElementById(this.callWidget._entities.info.id)\n        infoWrapper.style.transitionDuration = this.time+'ms'\n        infoWrapper.classList.add('show')\n    }\n    _hide() {\n        let infoWrapper = document.getElementById(this.callWidget._entities.info.id)\n        infoWrapper.style.transitionDuration = this.time+'ms'\n        infoWrapper.classList.remove('show')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class TelScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let tel = document.getElementById(this.callWidget._entities.tel.id)\n        tel.textContent = this.callWidget._entities.tel.content\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class TitleScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill() {\n        let title = document.getElementById(this.callWidget._entities.title.id)\n        title.textContent = this.callWidget._entities.title.content\n    }\n    _show() {\n        let titleWrapper = document.getElementById(this.callWidget._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = this.time+'ms'\n        titleWrapper.classList.add('show')\n    }\n    _hide() {\n        let titleWrapper = document.getElementById(this.callWidget._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = this.time+'ms'\n        titleWrapper.classList.remove('show')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class WidgetScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _show(){\n        let widget = document.getElementById(this.callWidget._entities.widget.id)\n        widget.style.transitionDuration = this.time+'ms'\n        widget.classList.add('show')\n    }\n    _hide(){\n        let widget = document.getElementById(this.callWidget._entities.widget.id)\n        widget.style.transitionDuration = this.time+'ms'\n        widget.classList.remove('show')\n    }\n    _activePrimaryBtn() {\n        // Нужно заблокировать кнопку \"принять звонок\" и установить активный статус кнопке \"принять звонок\"\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = false\n        primaryBtn.classList.add('active')\n    }\n    _activeDangerBtn() {\n        // Нужно заблокировать кнопки, свернуть все дополнительный поля и скрыть виджет\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = true\n        primaryBtn.classList.remove('active')\n    }\n    _normal() {\n        // Вернуть в начальное состояние весь виджет\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        primaryBtn.disabled = false\n        dangerBtn.disabled = false\n        primaryBtn.classList.remove('active')\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t165: 0,\n\t867: 0,\n\t836: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcall_widget\"] = self[\"webpackChunkcall_widget\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [836], () => (__webpack_require__(623)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [836], () => (__webpack_require__(869)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}