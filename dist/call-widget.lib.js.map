{"version":3,"sources":["webpack://call-widget/webpack/runtime/chunk loaded","webpack://call-widget/./src/call-widget.js","webpack://call-widget/./src/call-widget.lib.js","webpack://call-widget/./src/schedule/base-item.js","webpack://call-widget/./src/schedule/items/info.js","webpack://call-widget/./src/schedule/items/photo.js","webpack://call-widget/./src/schedule/items/redirect.js","webpack://call-widget/./src/schedule/items/tel.js","webpack://call-widget/./src/schedule/items/title.js","webpack://call-widget/./src/schedule/items/widget.js","webpack://call-widget/./src/utility/h.js","webpack://call-widget/webpack/bootstrap","webpack://call-widget/webpack/runtime/define property getters","webpack://call-widget/webpack/runtime/hasOwnProperty shorthand","webpack://call-widget/webpack/runtime/jsonp chunk loading","webpack://call-widget/webpack/startup"],"names":["deferred","defaultSettings","id","selector","startedTime","EVENT_BTN_PRIMARY_CLICK","EVENT_BTN_DANGER_CLICK","EVENT_BTN_REDIRECT_CLICK","events","CallWidget","settings","this","Math","round","random","_settings","Object","assign","_setStartParams","tel","title","photo","Error","_entities","content","src","_schedule","push","TelScheduleItem","WidgetScheduleItem","TitleScheduleItem","PhotoScheduleItem","_render","info","time","InfoScheduleItem","RedirectScheduleItem","numbers","redirect","element","String","document","querySelector","template","_getTemplate","appendChild","requestAnimationFrame","_attachEvents","name","fun","_eventHandlers","filter","fun_","th","primaryBtn","getElementById","widget","primaryBtnId","dangerBtn","dangerBtnId","_funHandleClickPrimaryBtn","_handleClickPrimaryBtn","_funHandleClickDangerBtn","_handleClickDangerBtn","addEventListener","showRedirectBtn","selectShowBtnId","closeRedirectBtn","selectCloseBtnId","redirectBtn","_funHandleClickShowRedirectBtn","_funHandleClickHideRedirectBtn","_funHandleClickRedirectBtn","_handleRedirect","onload","console","log","value","handlers","result","i","length","handler","result_","_handleEvent","answerCall","hangUpCall","select","selectId","item","shift","action","setTimeout","render","h","class","wrapperId","sizerId","style","type","selectWrapperId","timeId","_getEntities","event","window","ScheduleItem","callWidget","textContent","infoWrapper","transitionDuration","classList","add","remove","wrapper","img","sizer","removeAttribute","setAttribute","img_","createElement","paddingTop","height","width","innerHTML","number","show","showBtn","closeBtn","selectWrapper","btn","_toggle","titleWrapper","disabled","attrs","children","elem","attrsKey","Array","isArray","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","installedChunks","165","867","836","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"mappings":"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","file":"/call-widget.lib.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import WidgetScheduleItem from \"./schedule/items/widget\";\nimport TelScheduleItem from \"./schedule/items/tel\";\nimport TitleScheduleItem from \"./schedule/items/title\";\nimport InfoScheduleItem from \"./schedule/items/info\";\nimport RedirectScheduleItem from \"./schedule/items/redirect\";\nimport h from \"./utility/h\"\nimport PhotoScheduleItem from \"./schedule/items/photo\";\n\nconst defaultSettings = {\n    id: null,\n    selector: 'body',\n    startedTime: '00:00:00',\n}\n\nexport const EVENT_BTN_PRIMARY_CLICK = 'btn_primary:click'\nexport const EVENT_BTN_DANGER_CLICK = 'btn_danger:click'\nexport const EVENT_BTN_REDIRECT_CLICK = 'btn_redirect:click'\n\nconst events = [EVENT_BTN_PRIMARY_CLICK, EVENT_BTN_DANGER_CLICK, EVENT_BTN_REDIRECT_CLICK]\n\nexport default class CallWidget {\n    /**\n     * @private {{}} - Настройки\n     */\n    _settings\n    /**\n     * @private {{}} - Параметры сущностей имеющихся в CallWidget\n     */\n    _entities\n    /**\n     * @private {[ScheduleItem]} - Очередь для управления отрисовкой, массив объектов\n     */\n    _schedule\n    /**\n     * @private - сюда помещается функция HandleClickPrimaryBtn, чтобы отвязать её по этому адресу\n     */\n    _funHandleClickPrimaryBtn\n    /**\n     * @private - сюда помещается функция HandleClickDangerBtn, чтобы отвязать её по этому адресу\n     */\n    _funHandleClickDangerBtn\n\n    /**\n     * @private {{}} - объект со слушателями, добавляются через функцию CallWidget.on() и удаляются через CallWidget.off()\n     */\n    _eventHandlers\n\n    _funHandleClickShowRedirectBtn\n    _funHandleClickHideRedirectBtn\n    _funHandleClickRedirectBtn\n\n    EVENT_BTN_PRIMARY_CLICK\n    EVENT_BTN_DANGER_CLICK\n    EVENT_BTN_REDIRECT_CLICK\n\n    constructor(settings = {}) {\n\n        this.EVENT_BTN_PRIMARY_CLICK = EVENT_BTN_PRIMARY_CLICK\n        this.EVENT_BTN_DANGER_CLICK = EVENT_BTN_DANGER_CLICK\n        this.EVENT_BTN_REDIRECT_CLICK = EVENT_BTN_REDIRECT_CLICK\n\n        if(!settings.id) settings.id = 'call-widget-'+Math.round(Math.random() * 10e6)\n\n        this._settings = Object.assign(defaultSettings, settings)\n\n        this._setStartParams()\n    }\n\n    /**\n     * Инициировать звонок: покажется виджет и даст возможность ответить на звонок\n     * @param {String} tel\n     * @param {String} title\n     * @param {String} photo\n     */\n    call({tel, title = null, photo = null}) {\n        if(!tel){\n            throw new Error('CallWidget@call обязательно передайте номер телефона')\n        }\n\n        /**\n         * Заполнение данными\n         */\n        this._entities.tel.content = tel\n        this._entities.title.content = title\n        this._entities.photo.src = photo\n\n        /**\n         * Заполнение очереди отрисовки в зависимости от данных\n         */\n        this._schedule.push(new TelScheduleItem('fill', 0, this))\n        this._schedule.push(new WidgetScheduleItem('show', 300, this))\n        if(title) {\n            this._schedule.push(new TitleScheduleItem('fill', 0, this))\n            this._schedule.push(new TitleScheduleItem('show', 300, this))\n        }else{\n            this._schedule.push(new TitleScheduleItem('hide', 150, this))\n        }\n        if(photo) {\n            this._schedule.push(new PhotoScheduleItem('fill', 0, this))\n            this._schedule.push(new PhotoScheduleItem('show', 300, this))\n        }else{\n            this._schedule.push(new PhotoScheduleItem('hide', 150, this))\n        }\n\n        /**\n         * Вызов функции рендера очереди\n         */\n        this._render()\n    }\n\n    /**\n     * Ответить на звонок\n     */\n    answerCall(){\n        // Нужно установить начальное время, чтобы показать его, а потом уже пользователь будет его устанавливать\n        this._entities.info.time = this._settings.startedTime\n\n        // Нужно заблокировать кнопку \"принять звонок\" и установить активный статус кнопке \"принять звонок\"\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        this._schedule.push(new WidgetScheduleItem('activePrimaryBtn', 0, this))\n        this._schedule.push(new InfoScheduleItem('fill', 0, this))\n        this._schedule.push(new InfoScheduleItem('show', 150, this))\n        this._render()\n    }\n\n    /**\n     * Положить трубку\n     */\n    hangUpCall() {\n        // Нужно заблокировать кнопки, свернуть все дополнительный поля и скрыть виджет\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        this._schedule.push(new WidgetScheduleItem('activeDangerBtn', 0, this))\n        this._schedule.push(new PhotoScheduleItem('hide', 150, this))\n        this._schedule.push(new InfoScheduleItem('hide', 150, this))\n        this._schedule.push(new RedirectScheduleItem('hide', 0, this))\n        this._schedule.push(new TitleScheduleItem('hide', 300, this))\n        this._schedule.push(new WidgetScheduleItem('hide', 300, this))\n        this._schedule.push(new WidgetScheduleItem('normal', 0, this))\n        this._render()\n    }\n\n    /**\n     * Установка времени, по умолчанию формат 00:00:00\n     */\n    setTime(time) {\n        this._entities.info.time = time\n        this._schedule.push(new InfoScheduleItem('fill', 0, this))\n        this._render()\n    }\n\n    /**\n     * Установка номеров телефонов для выбора редиректа\n     * @param {[String]} numbers\n     */\n    setRedirectNumbers(numbers) {\n        this._entities.redirect.numbers = numbers\n        this._schedule.push(new RedirectScheduleItem('fill', 0, this))\n        this._render()\n    }\n\n    /**\n     * Функция распечатывающая шаблон\n     * @param selector - Селектор или элемент\n     */\n    print(selector = null) {\n        selector = selector || this._settings.selector\n\n        let element\n        if (typeof selector === 'string' || selector instanceof String){\n            element = document.querySelector(selector)\n        }else{\n            element = selector\n        }\n\n        let template = this._getTemplate()\n\n        element.appendChild(template)\n\n        requestAnimationFrame(() => {\n            this._attachEvents()\n        })\n\n        return template\n    }\n\n    on(name, fun) {\n        this._eventHandlers[name].push(fun)\n    }\n\n    off(name, fun) {\n        this._eventHandlers[name] = this._eventHandlers[name].filter(fun_ => fun_ !== fun)\n    }\n\n    _attachEvents() {\n        let th = this\n\n        let primaryBtn = document.getElementById(this._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this._entities.widget.dangerBtnId)\n\n        this._funHandleClickPrimaryBtn = function () {\n            th._handleClickPrimaryBtn()\n        }\n        this._funHandleClickDangerBtn = function () {\n            th._handleClickDangerBtn()\n        }\n\n        primaryBtn.addEventListener('click', this._funHandleClickPrimaryBtn)\n        dangerBtn.addEventListener('click', this._funHandleClickDangerBtn)\n\n        //\n\n        let showRedirectBtn = document.getElementById(this._entities.redirect.selectShowBtnId)\n        let closeRedirectBtn = document.getElementById(this._entities.redirect.selectCloseBtnId)\n        let redirectBtn = document.getElementById(this._entities.redirect.id)\n\n        this._funHandleClickShowRedirectBtn = function () {\n            th._schedule.push(new RedirectScheduleItem('show', 0, th))\n            th._render()\n        }\n        this._funHandleClickHideRedirectBtn = function () {\n            th._schedule.push(new RedirectScheduleItem('hide', 0, th))\n            th._render()\n        }\n        this._funHandleClickRedirectBtn = function () {\n            th._handleRedirect()\n        }\n        showRedirectBtn.addEventListener('click', this._funHandleClickShowRedirectBtn)\n        closeRedirectBtn.addEventListener('click', this._funHandleClickHideRedirectBtn)\n        redirectBtn.addEventListener('click', this._funHandleClickRedirectBtn)\n\n        //\n\n        let photo = document.getElementById(this._entities.photo.id)\n\n        photo.onload = function (){\n            console.log('onload', this)\n            th._schedule.push(new PhotoScheduleItem('loaded', 300, th))\n            th._render()\n        }\n    }\n\n    _handleEvent(name, value){\n        const handlers = this._eventHandlers[name]\n        // result - нужен чтобы сказать что дальнейшие действия виджета нужно остановить\n        let result = true\n        for (let i = 0; i < handlers.length; i++) {\n            const handler = handlers[i]\n            if(handler){\n                let result_ = handler(value, result)\n                if(typeof result_ === \"boolean\"){\n                    result = result_\n                }\n            }\n        }\n        return result\n    }\n\n    /**\n     * Метод, который сработает при клике по кнопке принять звонок\n     * @private\n     */\n    _handleClickPrimaryBtn(){\n        const result = this._handleEvent(EVENT_BTN_PRIMARY_CLICK)\n        if(result){\n            this.answerCall()\n        }\n    }\n\n    /**\n     * Метод, который сработает при клике по кнопке положить звонок\n     * @private\n     */\n    _handleClickDangerBtn(){\n        const result = this._handleEvent(EVENT_BTN_DANGER_CLICK)\n        if(result){\n            this.hangUpCall()\n        }\n    }\n\n    /**\n     * Метод, который сработает при клике на кнопке перевести звонок на выбранного оператора\n     * @private\n     */\n    _handleRedirect(){\n        let select = document.getElementById(this._entities.redirect.selectId)\n        this._handleEvent(EVENT_BTN_REDIRECT_CLICK, select.value)\n    }\n\n    /**\n     * Функция проходит по очереди и исполняет действия рекурсивно, пока в очереди не останется пунктов\n     * @private\n     */\n    _render() {\n        let item = this._schedule.shift()\n        if(item){\n            console.log(item, item.action, item.time)\n            if(item.time){\n                requestAnimationFrame(() => {\n                    setTimeout(() => {this._render()}, item.time)\n                    item.render()\n                })\n            }else{\n                item.render()\n                this._render()\n            }\n        }\n    }\n\n    /**\n     * @returns {HTMLElement}\n     * @private\n     */\n    _getTemplate() {\n        return h('div', {id: this._entities.widget.id, class: 'call-widget'}, [\n            h('div', {\n                id: this._entities.photo.wrapperId,\n                class: 'call-widget__photo',\n            }, [\n                h('div', {\n                    id: this._entities.photo.sizerId,\n                    class: 'call-widget__photo-sizer',\n                }),\n                h('img', {\n                    id: this._entities.photo.id,\n                    src: ''\n                }),\n            ]),\n            h('div', {id: this._entities.info.id, class: 'call-widget__box-info'}, [\n                h('div', {\n                    id: this._entities.redirect.wrapperId,\n                    class: 'call-widget__redirect',\n                    style: 'display: none;'\n                }, [\n                    h('button', {\n                        id: this._entities.redirect.selectShowBtnId,\n                        class: 'call-widget__btn call-widget__btn-redirect',\n                        type: 'button'\n                    }),\n                    h('button', {\n                        id: this._entities.redirect.selectCloseBtnId,\n                        class: 'call-widget__btn call-widget__btn-close',\n                        type: 'button',\n                        style: 'display: none;'\n                    }),\n                    h('span', null, 'Перевести на'),\n                    h('label', {\n                        id: this._entities.redirect.selectWrapperId,\n                        class: 'call-widget__redirect__select-wrapper',\n                        'aria-label': 'Перевести на оператора',\n                        style: 'display: none;'\n                    }, [\n                        h('select', {\n                            class: 'call-widget__select',\n                            id: this._entities.redirect.selectId,\n                        }, [\n                            h('option', {value: '-'}, '-'),\n                        ]),\n                    ]),\n                    h('button', {\n                        class: 'call-widget__btn call-widget__btn-redirect call-widget__btn--warning',\n                        type: 'button',\n                        style: 'display: none;',\n                        id: this._entities.redirect.id,\n                    }),\n                ]),\n                h('div', {\n                    id: this._entities.info.timeId,\n                    class: 'call-widget__time'\n                })\n            ]),\n            h('div', {id: this._entities.title.wrapperId, class: 'call-widget__box-title'}, [\n                h('div', {id: this._entities.title.id, class: 'call-widget__title'})\n            ]),\n            h('div', {class: 'call-widget__box-phone'}, [\n                h('div', {id: this._entities.tel.wrapperId, class: 'call-widget__tel-wrapper'}, [\n                    h('div', {id: this._entities.tel.id, class: 'call-widget__tel'})\n                ]),\n                h('button', {\n                    id: this._entities.widget.dangerBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--danger',\n                    type: 'button'\n                }),\n                h('button', {\n                    id: this._entities.widget.primaryBtnId,\n                    class: 'call-widget__btn call-widget__btn-circle call-widget__btn-circle--primary',\n                    type: 'button'\n                })\n            ])\n        ])\n    }\n\n    /**\n     * Функция устанавливающая начальные параметры\n     * @private\n     */\n    _setStartParams() {\n        this._entities = this._getEntities()\n\n        this._schedule = []\n\n        this._eventHandlers = {}\n        for (let i = 0; i < events.length; i++) {\n            let event = events[i]\n            this._eventHandlers[event] = []\n        }\n    }\n\n    _getEntities() {\n        const id = this._settings.id\n\n        return {\n            widget: { id, primaryBtnId: id+'-primary-btn', dangerBtnId: id+'-danger-btn' },\n            title: { id: id+'-title', wrapperId: id+'-wrapper-title', content: null },\n            tel: { id: id+'-tel', wrapperId: id+'-wrapper-tel', content: null },\n            info: {\n                id: id+'-info',\n                timeId: id+'-time',\n                time: this._settings.startedTime,\n            },\n            redirect: {\n                selectShowBtnId: id+'-redirect-select-show-btn',\n                selectCloseBtnId: id+'-redirect-select-close-btn',\n                selectWrapperId: id+'-redirect-select-wrapper',\n                selectId: id+'-redirect-select',\n                id: id+'-redirect-btn',\n                wrapperId: id+'-redirect-wrapper',\n                numbers: []\n            },\n            photo: {\n                id: id+'-photo',\n                wrapperId: id+'-wrapper-photo',\n                sizerId: id+'-sizer-photo',\n                src: ''\n            }\n        }\n    }\n}\n","import CallWidget from \"./call-widget\";\n\nwindow.CallWidget = CallWidget","export default class ScheduleItem {\n    action\n    time\n    callWidget\n    constructor(action, time, callWidget) {\n        this.action = action\n        this.time = time || 0\n        this.callWidget = callWidget\n    }\n    render() {\n        throw new Error('ScheduleItem@render Обязательно определите метод рендера')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class InfoScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let time = document.getElementById(this.callWidget._entities.info.timeId)\n        time.textContent = this.callWidget._entities.info.time\n    }\n    _show() {\n        let infoWrapper = document.getElementById(this.callWidget._entities.info.id)\n        infoWrapper.style.transitionDuration = this.time+'ms'\n        infoWrapper.classList.add('show')\n    }\n    _hide() {\n        let infoWrapper = document.getElementById(this.callWidget._entities.info.id)\n        infoWrapper.style.transitionDuration = this.time+'ms'\n        infoWrapper.classList.remove('show')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class PhotoScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let img = document.getElementById(this.callWidget._entities.photo.id)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n        let src = this.callWidget._entities.photo.src\n\n        sizer.removeAttribute('style')\n        wrapper.classList.add('loading')\n        img.setAttribute('src', src)\n    }\n    _loaded() {\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let img = document.getElementById(this.callWidget._entities.photo.id)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n\n        let img_ = document.createElement('img')\n        let th = this\n        img_.onload = function (){\n            sizer.style.transitionDuration = th.time+'ms'\n            wrapper.classList.remove('loading')\n            sizer.style.paddingTop = (img_.height / img_.width * 100) + '%'\n        }\n        img_.src = img.src\n    }\n    _show(){\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n        sizer.style.transitionDuration = this.time+'ms'\n        wrapper.classList.add('show')\n    }\n    _hide() {\n        let wrapper = document.getElementById(this.callWidget._entities.photo.wrapperId)\n        let sizer = document.getElementById(this.callWidget._entities.photo.sizerId)\n        sizer.removeAttribute('style')\n        sizer.style.transitionDuration = this.time+'ms'\n        wrapper.classList.remove('loading')\n        wrapper.classList.remove('show')\n    }\n}","import ScheduleItem from '../base-item'\nimport h from \"../../utility/h\";\n\nexport default class RedirectScheduleItem extends ScheduleItem {\n    render() {\n        this['_' + this.action]()\n    }\n\n    _fill() {\n        let numbers = this.callWidget._entities.redirect.numbers\n        let wrapper = document.getElementById(this.callWidget._entities.redirect.wrapperId)\n        let select = document.getElementById(this.callWidget._entities.redirect.selectId)\n\n        select.innerHTML = ''\n\n        for (let i = 0; i < numbers.length; i++) {\n            let number = numbers[i]\n            select.appendChild(h('option', {value: number}, number))\n        }\n        if (numbers[0]) {\n            select.value = numbers[0]\n            wrapper.removeAttribute('style')\n        } else {\n            wrapper.setAttribute('style', 'display: none;')\n        }\n    }\n\n    _toggle(show){\n        let showBtn = document.getElementById(this.callWidget._entities.redirect.selectShowBtnId)\n        let closeBtn = document.getElementById(this.callWidget._entities.redirect.selectCloseBtnId)\n        let selectWrapper = document.getElementById(this.callWidget._entities.redirect.selectWrapperId)\n        let btn = document.getElementById(this.callWidget._entities.redirect.id)\n\n        if(show){\n            showBtn.setAttribute('style', 'display: none;')\n            closeBtn.removeAttribute('style')\n            selectWrapper.removeAttribute('style')\n            btn.removeAttribute('style')\n        }else{\n            showBtn.removeAttribute('style')\n            closeBtn.setAttribute('style', 'display: none;')\n            selectWrapper.setAttribute('style', 'display: none;')\n            btn.setAttribute('style', 'display: none;')\n        }\n    }\n\n    _show(){\n        this._toggle(true)\n    }\n\n    _hide(){\n        this._toggle(false)\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class TelScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill(){\n        let tel = document.getElementById(this.callWidget._entities.tel.id)\n        tel.textContent = this.callWidget._entities.tel.content\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class TitleScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _fill() {\n        let title = document.getElementById(this.callWidget._entities.title.id)\n        title.textContent = this.callWidget._entities.title.content\n    }\n    _show() {\n        let titleWrapper = document.getElementById(this.callWidget._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = this.time+'ms'\n        titleWrapper.classList.add('show')\n    }\n    _hide() {\n        let titleWrapper = document.getElementById(this.callWidget._entities.title.wrapperId)\n        titleWrapper.style.transitionDuration = this.time+'ms'\n        titleWrapper.classList.remove('show')\n    }\n}","import ScheduleItem from '../base-item'\n\nexport default class WidgetScheduleItem extends ScheduleItem {\n    render() {\n        this['_'+this.action]()\n    }\n    _show(){\n        let widget = document.getElementById(this.callWidget._entities.widget.id)\n        widget.style.transitionDuration = this.time+'ms'\n        widget.classList.add('show')\n    }\n    _hide(){\n        let widget = document.getElementById(this.callWidget._entities.widget.id)\n        widget.style.transitionDuration = this.time+'ms'\n        widget.classList.remove('show')\n    }\n    _activePrimaryBtn() {\n        // Нужно заблокировать кнопку \"принять звонок\" и установить активный статус кнопке \"принять звонок\"\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = false\n        primaryBtn.classList.add('active')\n    }\n    _activeDangerBtn() {\n        // Нужно заблокировать кнопки, свернуть все дополнительный поля и скрыть виджет\n        // Блокировка кнопок нужна, чтобы не работали события при повторных кликах\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        primaryBtn.disabled = true\n        dangerBtn.disabled = true\n        primaryBtn.classList.remove('active')\n    }\n    _normal() {\n        // Вернуть в начальное состояние весь виджет\n        let primaryBtn = document.getElementById(this.callWidget._entities.widget.primaryBtnId)\n        let dangerBtn = document.getElementById(this.callWidget._entities.widget.dangerBtnId)\n        primaryBtn.disabled = false\n        dangerBtn.disabled = false\n        primaryBtn.classList.remove('active')\n    }\n}","/**\n *\n * @param {String} name - имя элемента, например div, h1, a\n * @param {{}} attrs - объект с атрибутами\n * @param {[HTMLElement]|String} children - Массив элементов или textContent\n * @returns {HTMLElement}\n */\nexport default function h(name, attrs = null, children = null){\n    let elem = document.createElement(name)\n\n    if(attrs){\n        for (const attrsKey in attrs) {\n            elem.setAttribute(attrsKey, attrs[attrsKey])\n        }\n    }\n\n    if(children){\n        if (typeof children === 'string' || children instanceof String){\n            elem.textContent = children;\n        }else if(Array.isArray(children)){\n            for (let i = 0; i < children.length; i++) {\n                elem.appendChild(children[i])\n            }\n        }\n    }\n\n    return elem\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t165: 0,\n\t867: 0,\n\t836: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcall_widget\"] = self[\"webpackChunkcall_widget\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [836], () => (__webpack_require__(623)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [836], () => (__webpack_require__(869)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}